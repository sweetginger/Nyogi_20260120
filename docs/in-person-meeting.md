# λ€λ©΄ λ―Έν… (In-Person Meeting) κΈ°λ¥ λ…μ„Έ

> κµ¬ν„ μ™„λ£μΌ: 2026-01-25

---

## 1. κ°μ”

λ€λ©΄ λ―Έν…μ€ μ¤ν”„λΌμΈμ—μ„ μ§„ν–‰λλ” λ―Έν…μΌλ΅, κΈ°κΈ°μ λ§μ΄ν¬λ¥Ό ν†µν•΄ μμ„±μ„ μΈμ‹ν•κ³  μ‹¤μ‹κ°„μΌλ΅ μλ§‰κ³Ό λ²μ—­μ„ μ κ³µν•λ” κΈ°λ¥μ…λ‹λ‹¤.

### ν•µμ‹¬ κΈ°λ¥
- β… μ‹¤μ‹κ°„ μμ„± μΈμ‹ (Web Speech API)
- β… ν™”μ κµ¬λ¶„ λ° μ „ν™
- β… μ‹¤μ‹κ°„ λ²μ—­ (OpenAI GPT-4o-mini)
- β… μ΄μ¤‘ μ–Έμ–΄ μλ§‰ ν‘μ‹
- β… λ―Έν… κΈ°λ΅ μ €μ¥

---

## 2. μ‚¬μ©μ ν”λ΅μ°

```
λ―Έν… μƒμ„± β†’ μ–Έμ–΄ μ„¤μ • (A/B) β†’ λ―Έν… μƒμ„Έ νμ΄μ§€ μ΄λ™
β†’ "λ―Έν… μ‹μ‘" λ²„νΌ ν΄λ¦­ β†’ λ§μ΄ν¬ κ¶ν• ν—μ©
β†’ ν™”μ μ„ νƒ ν›„ λ°ν™” β†’ μ‹¤μ‹κ°„ μλ§‰ ν‘μ‹
β†’ (ν•„μ”μ‹) ν™”μ μ „ν™ β†’ κ³„μ† λ°ν™”
β†’ "λ―Έν… μΆ…λ£" λ²„νΌ ν΄λ¦­ β†’ κΈ°λ΅ μ €μ¥
```

---

## 3. κΈ°λ¥ μƒμ„Έ

### 3-1. λ―Έν… μ‹μ‘

| ν•­λ© | μ„¤λ… |
|------|------|
| νΈλ¦¬κ±° | "λ―Έν… μ‹μ‘" λ²„νΌ ν΄λ¦­ |
| λ§μ΄ν¬ κ¶ν• | μ‹μ‘ μ „ κ¶ν• ν™•μΈ λ° μ”μ²­ |
| κΈ°λ³Έ ν™”μ | ν™”μ 1 (μ–Έμ–΄ A) μλ™ μ„ νƒ |
| μƒνƒ λ³€κ²½ | `scheduled` β†’ `in-progress` |

### 3-2. μμ„± μΈμ‹

| ν•­λ© | μ„¤λ… |
|------|------|
| κΈ°μ  | Web Speech API (Chrome κ¶μ¥) |
| λ¨λ“ | Continuous + InterimResults |
| μ–Έμ–΄ | ν„μ¬ ν™”μμ μ–Έμ–΄λ΅ μλ™ μ„¤μ • |
| μλ™ μ¬μ‹μ‘ | λκΉ€ μ‹ μλ™ λ³µκµ¬ (Exponential Backoff) |

### 3-3. ν™”μ μ „ν™

```
ν™”μ 1 (ν•κµ­μ–΄) β†β†’ ν™”μ 2 (μμ–΄)
    νλ€μƒ‰            μ΄λ΅μƒ‰
```

- ν™”μ λ²„νΌ ν΄λ¦­μΌλ΅ μ „ν™
- μ „ν™ μ‹ μμ„± μΈμ‹ μ–Έμ–΄ μλ™ λ³€κ²½
- κ° ν™”μλ³„ μƒ‰μƒ κµ¬λ¶„

### 3-4. μ‹¤μ‹κ°„ μλ§‰ ν‘μ‹

#### λ¦¬μ¤νΈ λ·°
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ π‘¤ ν™”μ 1              μ¤ν›„ 10:41:05β”‚
β”‚ π‡°π‡· ν•κµ­μ–΄                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ μ•λ…•ν•μ„Έμ”, λ―Έν…μ„ μ‹μ‘ν•κ² μµλ‹λ‹¤.   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ π‡Ίπ‡Έ English                         β”‚
β”‚ Hello, let's start the meeting.    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### λ¶„ν•  λ·°
- μΆμΈ΅: ν™”μ A λ°ν™” λ‚΄μ—­
- μ°μΈ΅: ν™”μ B λ°ν™” λ‚΄μ—­

### 3-5. λ²μ—­

| λ¨λ“ | μ΅°κ±΄ | μ„¤λ… |
|------|------|------|
| OpenAI | `OPENAI_API_KEY` μ„¤μ •λ¨ | GPT-4o-mini μ‹¤μ  λ²μ—­ |
| Mock | API ν‚¤ μ—†μ | μ‹λ®¬λ μ΄μ… λ²μ—­ |

#### λ²μ—­ API νλ¦„
```
[ν΄λΌμ΄μ–ΈνΈ] β†’ POST /api/translate β†’ [μ„λ²„] β†’ OpenAI API β†’ [μ‘λ‹µ]
```

### 3-6. λ―Έν… μΆ…λ£

| ν•­λ© | μ„¤λ… |
|------|------|
| νΈλ¦¬κ±° | "λ―Έν… μΆ…λ£" λ²„νΌ ν΄λ¦­ |
| λ§μ΄ν¬ | μλ™ μ •μ§€ |
| μ‹κ°„ κ³„μ‚° | κ²½κ³Ό μ‹κ°„ μ €μ¥ |
| λ¬΄λ£ μ‹κ°„ | μ‚¬μ© μ‹κ°„λ§νΌ μ°¨κ° |
| μƒνƒ λ³€κ²½ | `in-progress` β†’ `completed` |

---

## 4. UI μ»΄ν¬λ„νΈ

### 4-1. μ»¨νΈλ΅¤ ν¨λ„

| μƒνƒ | ν‘μ‹ μ”μ† |
|------|----------|
| λ€κΈ° μ¤‘ | "λ―Έν… μ‹μ‘" λ²„νΌ |
| λ…Ήμ μ¤‘ | ν™”μ μ„ νƒ λ²„νΌ, μΌμ‹μ •μ§€/μ¬κ° λ²„νΌ, νƒ€μ΄λ¨Έ, "λ―Έν… μΆ…λ£" λ²„νΌ |
| μ™„λ£λ¨ | "AI μ”μ•½ μƒμ„±" λ²„νΌ |

### 4-2. λ§μ΄ν¬ μƒνƒ ν‘μ‹

| μƒνƒ | ν‘μ‹ |
|------|------|
| λ§μ΄ν¬ ν™μ„± | π¤ λ§μ΄ν¬ ν™μ„± (μ΄λ΅μƒ‰, κΉλΉ΅μ„) |
| λ§μ΄ν¬ μΌμ‹μ •μ§€ | π”‡ λ§μ΄ν¬ μΌμ‹μ •μ§€ (μ£Όν™©μƒ‰) |
| κ¶ν• κ±°λ¶€ | λ…Έλ€μƒ‰ μ•λ‚΄ λ°•μ¤ + κ¶ν• μ”μ²­ λ²„νΌ |

### 4-3. μ‹κ°„ ν‘μ‹

- **μ €μ¥**: UTC (Prisma κΈ°λ³Έκ°’)
- **ν‘μ‹**: λΈλΌμ°μ € λ΅μ»¬ νƒ€μ„μ΅΄ (toLocaleTimeString)
- **κ²½κ³Ό μ‹κ°„**: λ―Έν… μ‹μ‘ μ‹κ°„ κΈ°μ¤€ μ λ€ μ‹κ°„ κ³„μ‚°

---

## 5. λ°μ΄ν„° λ¨λΈ

### Transcript (λ°ν™” κΈ°λ΅)

```prisma
model Transcript {
  id             String   @id @default(cuid())
  meetingId      String
  speakerId      String?
  originalText   String   // μ›λ¬Έ
  translatedText String   // λ²μ—­λ¬Έ
  originalLang   String   // μ›λ¬Έ μ–Έμ–΄ (ko, en λ“±)
  translatedLang String   // λ²μ—­ μ–Έμ–΄
  startTime      Int      // λ―Έν… μ‹μ‘ κΈ°μ¤€ κ²½κ³Ό μ‹κ°„ (ms)
  endTime        Int
  createdAt      DateTime @default(now())
}
```

### ν΄λΌμ΄μ–ΈνΈ TranscriptEntry

```typescript
interface TranscriptEntry {
  id: string
  speakerId: string
  speakerName: string
  speakerLanguage: string
  originalText: string
  translatedText: string
  translatedLanguage?: string
  timestamp: number  // μ λ€ μ‹κ°„ (ms)
  isFinal: boolean
}
```

---

## 6. API μ—”λ“ν¬μΈνΈ

### POST /api/meetings/[id]/start
- λ―Έν… μƒνƒλ¥Ό `in-progress`λ΅ λ³€κ²½
- `startedAt` μ‹κ°„ κΈ°λ΅

### POST /api/meetings/[id]/end
- λ―Έν… μƒνƒλ¥Ό `completed`λ΅ λ³€κ²½
- `endedAt` μ‹κ°„ κΈ°λ΅
- κ²½κ³Ό μ‹κ°„ κ³„μ‚° λ° μ €μ¥
- μ‚¬μ©μ λ¬΄λ£ μ‹κ°„ μ°¨κ°

### POST /api/meetings/[id]/transcripts
- λ°ν™” κΈ°λ΅ μ €μ¥
- ν΄λΌμ΄μ–ΈνΈμ—μ„ λ²μ—­ ν…μ¤νΈ μ „μ†΅ μ‹ κ·Έλ€λ΅ μ €μ¥
- λ²μ—­ μ—†μΌλ©΄ μ„λ²„μ—μ„ λ²μ—­ μν–‰

### POST /api/translate
- OpenAI APIλ¥Ό ν†µν• λ²μ—­
- API ν‚¤ μ—†μΌλ©΄ Mock λ²μ—­

---

## 7. νμΌ κµ¬μ΅°

```
src/
β”β”€β”€ app/
β”‚   β””β”€β”€ meetings/
β”‚       β””β”€β”€ [id]/
β”‚           β””β”€β”€ page.tsx          # λ―Έν… μƒμ„Έ (μ‹¤μ‹κ°„ λ―Έν… UI)
β”β”€β”€ components/
β”‚   β””β”€β”€ meeting/
β”‚       β””β”€β”€ LiveTranscript.tsx    # μ‹¤μ‹κ°„ μλ§‰ μ»΄ν¬λ„νΈ
β”β”€β”€ hooks/
β”‚   β””β”€β”€ useSpeechRecognition.ts   # μμ„± μΈμ‹ ν›…
β””β”€β”€ lib/
    β”β”€β”€ translate.ts              # λ²μ—­ μ ν‹Έλ¦¬ν‹° (ν΄λΌμ΄μ–ΈνΈ)
    β””β”€β”€ datetime.ts               # μ‹κ°„ ν¬λ§·ν… μ ν‹Έλ¦¬ν‹°
```

---

## 8. μμ„± μΈμ‹ μ•μ •μ„±

### μλ™ μ¬μ‹μ‘ λ©”μ»¤λ‹μ¦

| μ—λ¬ μ ν• | μ²λ¦¬ |
|----------|------|
| no-speech | 500ms ν›„ μ¬μ‹μ‘ |
| network | Exponential Backoff (μµλ€ 5μ΄) |
| audio-capture | 1μ΄ ν›„ μ¬μ‹λ„, 5ν μ‹¤ν¨ μ‹ μ•λ¦Ό |
| aborted | λ¬΄μ‹ (μλ™ μ¤‘λ‹¨) |

### μ£ΌκΈ°μ  κ°±μ‹ 
- 30μ΄ μ΄μƒ μμ„± μ—†μΌλ©΄ recognition μΈμ¤ν„΄μ¤ κ°±μ‹ 
- λ©”λ¨λ¦¬ λ„μ λ°©μ§€

---

## 9. λΈλΌμ°μ € νΈν™μ„±

| λΈλΌμ°μ € | μ§€μ› μ—¬λ¶€ |
|----------|----------|
| Chrome | β… κ¶μ¥ |
| Edge | β… μ§€μ› |
| Safari | β οΈ μ ν•μ  |
| Firefox | β λ―Έμ§€μ› |

> Web Speech APIλ” Chromeμ—μ„ κ°€μ¥ μ•μ •μ μΌλ΅ λ™μ‘ν•©λ‹λ‹¤.

---

## 10. ν™κ²½ λ³€μ

```env
# λ²μ—­ API (ν•„μ)
OPENAI_API_KEY="sk-..."

# μ—†μΌλ©΄ Mock λ²μ—­ μ‚¬μ©
```

---

## 11. ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ

- [x] λ―Έν… μƒμ„± (λ€λ©΄ λ―Έν… νƒ€μ…)
- [x] λ―Έν… μ‹μ‘ μ‹ λ§μ΄ν¬ κ¶ν• μ”μ²­
- [x] μμ„± μΈμ‹ λ° μλ§‰ ν‘μ‹
- [x] ν™”μ μ „ν™ μ‹ μ–Έμ–΄ λ³€κ²½
- [x] μ‹¤μ‹κ°„ λ²μ—­ ν‘μ‹
- [x] λ―Έν… μΆ…λ£ λ° κΈ°λ΅ μ €μ¥
- [x] μ €μ¥λ κΈ°λ΅ μ΅°ν μ‹ μ‹κ°„ μ •μƒ ν‘μ‹
- [x] λ²μ—­ ν…μ¤νΈ DB μ €μ¥ ν™•μΈ

---

> **λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2026-01-25

